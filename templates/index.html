{{ block "index" . }}

<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>My First Web App in HTMX/Go</title>
		<script src="https://unpkg.com/htmx.org/dist/htmx.min.js"></script>
	</head>
	<body>
		<main>
			<div id="count">
				{{ template "count" . }}
			</div>
			<button hx-post="/count" hx-target="#count">number go up</button>
			<hr />
			{{ template "email form" . }}
			{{ template "contacts" . }}
		</main>
	</body>
</html>

{{ end }}

{{ block "count" . }}
	Count {{ .Count }}
{{ end }}

{{ block "email form" . }}
<div>
	<form hx-post="/contacts" hx-target="#contacts">
		name: <input type="text" name="name" />
		email: <input type="email" name="email" />
		<button type="submit">Create Contact</button>
	</form>
</div>
{{ end }}

{{ block "contacts" . }}
<div id="contacts">
	<table>
		<tr>
			<td style="border: solid">Name</td>
			<td style="border: solid">Email</td>
		</tr>
	{{ range .Contacts }}
		<tr>
			<td style="border: solid" >{{ .Name }}</td>
			<td style="border: solid" >{{ .Email }}</td>
		</tr>
	{{ end }}
	</table>
</div>
{{ end }}
